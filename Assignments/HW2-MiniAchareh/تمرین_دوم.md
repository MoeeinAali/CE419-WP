
# برنامه‌سازی وب – تمرین دوم

**استاد:** علی ابریشمی  
**طراحان:** مانی ابراهیمی، مهدی جعفری  
**ترم:** پاییز ۱۴۰۴ – دانشکده مهندسی کامپیوتر

---

## ۱. مقدمه

### ۱.۱ توضیح کلی
در این تمرین شما قرار است یک نسخه ساده‌تر از بخش **Back-End** برنامه‌ی آچاره را پیاده‌سازی کنید.  
این نسخه شامل:
- سطوح دسترسی
- ثبت آگهی نیازمندی
- پاسخ به آگهی‌ها
- به‌روزرسانی وضعیت درخواست‌ها

می‌باشد.

### ۱.۲ نمره‌دهی
- ۱.۵ نمره اجباری  
- ۰.۲ نمره اختیاری  
- مجموع امتیازات: **۱۷۰۰ نمره**

### ۱.۳ سیاست کلی تأخیر
حداکثر تأخیر مجاز در کل ترم: **۷ روز**
- ۲۴ ساعت اول: کسر ۱٪ به ازای هر ساعت  
- روز دوم: کسر ۲۵٪  
- روز سوم: کسر ۳۳٪  
- روز چهارم: کسر ۵۰٪  

### ۱.۴ سیاست انجام تمرین
- رعایت کامل آداب‌نامه آموزشی الزامی است.
- تقلب → نمره صفر / تکرار → نمره منفی کل.
- استفاده از ابزارهای هوش مصنوعی **به شرط درک کامل خروجی** مجاز است.
- **فقط Django + Django REST Framework** مجاز است.
- مستند Swagger با `drf-spectacular` الزامی است.
- لینک Swagger در فایل `README.md` قرار گیرد.
- استفاده از دیتابیس **SQLite** الزامی است.

---

## ۲. بخش اجباری (۱۵۰۰ نمره)

### ۲.۱ پیاده‌سازی موجودیت‌ها (۳۰۰ نمره)

#### موجودیت‌ها
- **کاربر**
  - نقش‌ها: مشتری، پیمانکار، پشتیبان، مدیر
  - اطلاعات: نام، ایمیل، شماره تماس
- **آگهی**
  - عنوان، توضیحات، دسته‌بندی، وضعیت، تاریخ ایجاد
- **نظر**
  - متن، امتیاز (۱ تا ۵)، کاربر، آگهی، پیمانکار
- **تیکت**
  - عنوان، پیام، وضعیت

#### روابط
- هر آگهی متعلق به یک کاربر است.
- هر آگهی می‌تواند چند نظر و پاسخ داشته باشد.
- هر آگهی یک پیمانکار نهایی دارد.

### ۲.۲ سطوح دسترسی
- مشتری
- پیمانکار
- پشتیبان
- مدیر سامانه

### ۲.۳ CRUD Endpoints
- پیاده‌سازی کامل CRUD
- رعایت دقیق سطح دسترسی
- مثال:
  - فقط پشتیبان می‌تواند همه تیکت‌ها را مدیریت کند.
  - پیمانکار نمی‌تواند آگهی دیگران را ویرایش کند.

### ۲.۴ وضعیت‌های آگهی
- باز
- تخصیص‌شده
- انجام‌شده
- لغوشده

### ۲.۵ ثبت‌نام و ورود
ورود با:
- نام کاربری
- ایمیل
- شماره تماس

### ۲.۶ کنترل دسترسی در Endpointها
- مشتری نمی‌تواند پایان کار را تأیید کند.
- مشتری نمی‌تواند به تیکت پاسخ دهد.
- پیمانکار نمی‌تواند درخواست‌های دیگران را حذف کند.

### ۲.۷ ایجاد آگهی توسط مشتری
آگهی جدید با وضعیت پیش‌فرض **باز**.

### ۲.۸ درخواست اخذ کار توسط پیمانکار
- ارسال درخواست
- امکان لغو درخواست

### ۲.۹ انتخاب پیمانکار نهایی
- توسط مشتری
- تغییر وضعیت به «تخصیص‌شده»

### ۲.۱۰ اعلام پایان کار
- توسط پیمانکار

### ۲.۱۱ تأیید پایان کار
- توسط مشتری

### ۲.۱۲ لغو آگهی
- فقط توسط مشتری
- مخفی برای سایر کاربران

### ۲.۱۳ ثبت نظر و امتیاز
- بعد از اتمام کار
- امتیاز ۱ تا ۵

### ۲.۱۴ پروفایل پیمانکار
- تعداد آگهی‌های انجام‌شده
- میانگین امتیاز
- لیست نظرات

### ۲.۱۵ پروفایل مشتری و پیمانکار
- مشتری: آگهی‌های ثبت‌شده
- پیمانکار: آگهی‌های انجام‌شده

### ۲.۱۶ فیلتر پیمانکارها
- حداقل امتیاز
- تعداد نظرات

### ۲.۱۷ مرتب‌سازی پیمانکارها
- بر اساس امتیاز
- تعداد نظرات

### ۲.۱۸ ثبت تیکت
- توسط مشتری یا پیمانکار

### ۲.۱۹ پاسخ به تیکت
- فقط توسط پشتیبان

---

## ۳. بخش اختیاری (۲۰۰ نمره)

### ۳.۱ فیلتر نظرات پیمانکار
- بر اساس امتیاز

### ۳.۲ سطوح دسترسی پویا
- تعریف دسترسی به‌صورت انعطاف‌پذیر

### ۳.۳ برنامه روزانه پیمانکار
- زمان و مکان هر کار
- بدون تداخل زمانی

---

## ۴. چک‌لیست تحویل

### ۴.۱ اجباری (۱۵۰۰ نمره)
- موجودیت‌ها و روابط
- سطوح دسترسی
- CRUD
- وضعیت آگهی‌ها
- ثبت‌نام و ورود
- مدیریت دسترسی
- آگهی، درخواست، تخصیص، پایان، نظر
- پروفایل‌ها
- فیلتر و مرتب‌سازی
- تیکت و پاسخ

### ۴.۲ اختیاری (۲۰۰ نمره)
- فیلتر نظرات
- دسترسی پویا
- برنامه کاری پیمانکار
